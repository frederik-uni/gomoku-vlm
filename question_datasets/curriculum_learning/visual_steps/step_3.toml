[general]
# Visual Step 3 (curriculum): 60/20/20 with reduced baseline
#
# Non-curriculum overall target: 250 per question across 4 steps.
# Per-step plan for non-curr variants: [63, 63, 62, 62]
# -> Step 3 uses 62 for each non-curr question variant.
#
# Step 3 uses 60/20/20 where:
# - Non-curr (20%) is fixed: 12 * 62 = 744
# - Total step size = 744 / 0.20 = 3720
#   -> Curriculum (60%) = 2232
#   -> Old (20%)        = 744
#   -> Non-curr (20%)   = 744 (fixed)
#
# Curriculum gating in Step 3:
# - Curriculum portion: Variant 3 only (Q3, Q103, Q203, Q303, Q403, Q503, Q903)
# - Old portion: replay Variants 1–2
#   (Q1/Q101/Q201/Q301/Q401/Q501/Q901) + (Q2/Q102/Q202/Q302/Q402/Q502/Q902)
#
# Questions not listed here are not generated.
num_samples_per_question = 0

context = """
You are a vision-language model analyzing Gomoku game positions.

Game rules (for this dataset):
- The board is a 15×15 grid. Player 1 = black stones (value 1). Player 2 = white stones (value 2).
- A legal move is placing exactly one stone on an empty intersection (value 0).
- A player wins immediately if they can place one stone that creates 5 stones in a row (horizontal, vertical, or diagonal).

Important:
- Always follow the per-question instructions and output format exactly.
- Do not add explanations or any extra text beyond what the question requests.
"""

# ============================================================
# CURRICULUM (60% = 2232): Variant 3 only (7 questions)
# 2232 / 7 = 318 r6 -> 6x319, 1x318
# Deterministic: Q3, Q103, Q203, Q303, Q403, Q503 get 319; Q903 gets 318
# ============================================================

[questions.Q3]
num_samples = 319
text = """
Task:
Focus on the single coordinate (row {row}, col {col}) with 0-based indexing.
Determine which label applies to that intersection right now.

Output constraint:
Return exactly one word: black, white, or empty.
"""

[questions.Q103]
num_samples = 319
text = """
Task:
Compute the total number of black stones on the board as shown.
This is a simple count of already placed black stones (not a prediction).

Output constraint:
Return one integer only (no explanation).
"""

[questions.Q203]
num_samples = 319
text = """
Task:
Compute the total number of white stones on the board as shown.
This is a direct count of placed stones in the current snapshot.

Output constraint:
Return one integer only (no explanation).
"""

[questions.Q303]
num_samples = 319
text = """
Task:
Count every empty intersection on the board in the current position.

What to ignore:
Do not count any intersection containing a black or white stone.

Output constraint:
Return a single integer and nothing else.
"""

[questions.Q403]
num_samples = 319
text = """
You play as {color} (Player {player}).

Task:
Count the number of 3-stone segments (three in a row) belonging to you.
A segment is three adjacent intersections in a straight line, all your stones.

Answer format: a single integer.
"""

[questions.Q503]
num_samples = 319
text = """
You play as {color} (Player {player}).

Task:
Count the number of 4-stone segments (four in a row) belonging to you.
A segment is four adjacent intersections in a straight line, all your stones.

Answer format: a single integer.
"""

[questions.Q903]
num_samples = 318
text = """
Task:
Print the board state as numbers with the encoding:
0 = empty, 1 = black, 2 = white.

Answer format: the matrix only, as 15 lines of 15 space-separated integers.
"""

# ============================================================
# OLD (20% = 744): replay Variants 1–2 (14 questions)
# 744 / 14 = 53 r2 -> 2x54, 12x53
# Deterministic: Q1 and Q101 get 54; all others get 53
# ============================================================

# --- Variant 1 replay (7) ---
[questions.Q1]
num_samples = 54
text = """
Task:
Inspect exactly one intersection: row {row}, column {col} (0-based).
Decide what is currently occupying that intersection.

Output constraint:
Return exactly one word: black, white, or empty.
"""

[questions.Q101]
num_samples = 54
text = """
Task:
Count the total number of black stones currently placed on the board (Player 1).

What to ignore:
- Do not count white stones.
- Do not count empty intersections.

Output constraint:
Return a single integer (no extra text).
"""

[questions.Q201]
num_samples = 53
text = """
Task:
Count the total number of white stones currently placed on the board (Player 2).

What to ignore:
- Do not count black stones.
- Do not count empty intersections.

Output constraint:
Return a single integer (no extra text).
"""

[questions.Q301]
num_samples = 53
text = """
Task:
Count how many intersections are empty in the current board position.

What to count:
Count only intersections that contain no stone.

Output constraint:
Return a single integer (no extra text).
"""

[questions.Q401]
num_samples = 53
text = """
You are Player {player} playing {color}.

Task:
Count how many 3-in-a-row segments you have for your color.
A 3-in-a-row segment is any contiguous window of exactly 3 intersections
(horizontal, vertical, or diagonal) where all 3 are your stones.

Answer format: a single integer.
"""

[questions.Q501]
num_samples = 53
text = """
You are Player {player} playing {color}.

Task:
Count how many 4-in-a-row segments you have for your color.
A 4-in-a-row segment is any contiguous window of exactly 4 intersections
(horizontal, vertical, or diagonal) where all 4 are your stones.

Answer format: a single integer.
"""

[questions.Q901]
num_samples = 53
text = """
Task:
Output the full board as a 15×15 matrix of integers using:
0 = empty, 1 = black (Player 1), 2 = white (Player 2).

Answer format:
- Exactly 15 lines.
- Each line must contain exactly 15 integers separated by single spaces.
- Do not output any extra text, symbols, commas, or brackets.
"""

# --- Variant 2 replay (7) ---
[questions.Q2]
num_samples = 53
text = """
Task:
Look only at the intersection at (row {row}, column {col}) using 0-based indexing.
Classify the current state of that single intersection (do not analyze the rest of the board).

Output constraint:
Return exactly one word: black, white, or empty.
"""

[questions.Q102]
num_samples = 53
text = """
Task:
Determine how many stones belong to Player 1 (black) in the current position.

What to ignore:
Ignore everything that is not a black stone (white stones and empty intersections).

Output constraint:
Return exactly one integer.
"""

[questions.Q202]
num_samples = 53
text = """
Task:
Determine how many stones belong to Player 2 (white) in the current position.

What to ignore:
Ignore everything that is not a white stone (black stones and empty intersections).

Output constraint:
Return exactly one integer.
"""

[questions.Q302]
num_samples = 53
text = """
Task:
Determine the total number of empty intersections available right now.
Treat any intersection with a stone as non-empty.

Output constraint:
Return exactly one integer.
"""

[questions.Q402]
num_samples = 53
text = """
You are Player {player} with {color} stones.

Task:
How many contiguous length-3 segments of your stones exist on the board?
Count segments in horizontal, vertical, and diagonal directions.

Answer format: a single integer (no extra text).
"""

[questions.Q502]
num_samples = 53
text = """
You are Player {player} with {color} stones.

Task:
How many contiguous length-4 segments of your stones exist on the board?
Count segments in horizontal, vertical, and diagonal directions.

Answer format: a single integer (no extra text).
"""

[questions.Q902]
num_samples = 53
text = """
Convert the board into a 15×15 integer matrix using:
0 for empty, 1 for black stones, 2 for white stones.

Answer format:
- Exactly 15 rows (top to bottom).
- Each row contains 15 space-separated integers.
- Output only the matrix.
"""

# ============================================================
# NON-CURRICULUM (fixed for Step 3): 62 each (12 questions)
# (Step plan across 4 steps: 63, 63, 62, 62 -> totals 250 per variant)
# ============================================================

[questions.Q601]
num_samples = 62
text = """
This is the final board position of a finished game.

Task:
Determine the color of the winner from the final position.

Answer format: exactly one word: black, white, or draw.
"""

[questions.Q602]
num_samples = 62
text = """
The game is over (final board).

Task:
Who won based on the final stones on the board?

Answer format: exactly one word: black, white, or draw.
"""

[questions.Q603]
num_samples = 62
text = """
You are given the completed game position.

Task:
Decide whether Player 1 (black) won, Player 2 (white) won, or the game is a draw.

Answer format: exactly one word: black, white, or draw.
"""

[questions.Q604]
num_samples = 62
text = """
Final position (no more moves will be played).

Task:
Determine the outcome.

Answer format: exactly one word: black, white, or draw.
"""

[questions.Q701]
num_samples = 62
text = """
You are Player {player} playing {color}. It is your turn.

Task:
Can you win immediately on this move?
In other words: is there at least one legal placement of a {color} stone
that creates 5 in a row right now?

Answer format: exactly one word: yes or no.
"""

[questions.Q702]
num_samples = 62
text = """
You are Player {player} with {color} stones, and it is your move.

Task:
Does there exist a legal move that wins the game immediately (forms 5 in a row)?

Answer format: exactly one word: yes or no.
"""

[questions.Q703]
num_samples = 62
text = """
It is your turn. You are Player {player} playing {color}.

Task:
Determine whether you have an immediate winning move available.

Answer format: exactly one word: yes or no.
"""

[questions.Q704]
num_samples = 62
text = """
You play {color} stones (Player {player}). It is your move.

Task:
Is there at least one winning move right now (one move ends the game)?

Answer format: exactly one word: yes or no.
"""

[questions.Q801]
num_samples = 62
text = """
You are Player {player} playing {color}. It is your turn.

Task:
If you do not block, can your opponent win on their next turn?
(That is: does the opponent currently have at least one immediate winning move available?)

Answer format: exactly one word: yes or no.
"""

[questions.Q802]
num_samples = 62
text = """
You are Player {player} with {color} stones, and it is your move.

Task:
Does your opponent have a one-move win available on their next turn?

Answer format: exactly one word: yes or no.
"""

[questions.Q803]
num_samples = 62
text = """
It is your turn. You are Player {player} playing {color}.

Task:
Determine whether there is an immediate winning threat by the opponent
(a move that would win for them on their next turn).

Answer format: exactly one word: yes or no.
"""

[questions.Q804]
num_samples = 62
text = """
You play {color} stones (Player {player}). It is your move.

Task:
Is the opponent currently threatening a one-move win on their next turn?

Answer format: exactly one word: yes or no.
"""