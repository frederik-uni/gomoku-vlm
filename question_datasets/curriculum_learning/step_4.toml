[general]
# ============================================================
# Visual Curriculum Step 4 (Late Game) — self-contained with SMALL rehearsal
#
# New (Step 4) variants: 250 samples each
# Rehearsal (Steps 1–3) variants: 25 samples each (minimal to reduce forgetting)
#
# Step 4 adds late-game tactical visual tasks:
# - can_you_win  (Q704)
# - can_you_lose (Q804)
# while keeping print_board_matrix in-curriculum (Q904).
#
# Any question NOT listed here is excluded and will not be generated.
# ============================================================

num_samples_per_question = 0

context = """
You are a vision-language model analyzing Gomoku game positions.

Game rules (for this dataset):
- The board is a 15×15 grid. Player 1 = black stones (value 1). Player 2 = white stones (value 2).
- A legal move is placing exactly one stone on an empty intersection (value 0).
- A player wins immediately if they can place one stone that creates 5 stones in a row (horizontal, vertical, or diagonal).

Important:
- Always follow the per-question instructions and output format exactly.
- Do not add explanations or any extra text beyond what the question requests.
"""

# ============================================================
# REHEARSAL: Step 1 variants (Q1*, Q101*, Q201*, Q301*, Q901*) — small
# ============================================================

[questions.Q1]
num_samples = 25
text = """
Task:
Inspect exactly one intersection: row {row}, column {col} (0-based).
Decide what is currently occupying that intersection.

Output constraint:
Return exactly one word: black, white, or empty.
"""

[questions.Q101]
num_samples = 25
text = """
Task:
Count the total number of black stones currently placed on the board (Player 1).

What to ignore:
- Do not count white stones.
- Do not count empty intersections.

Output constraint:
Return a single integer (no extra text).
"""

[questions.Q201]
num_samples = 25
text = """
Task:
Count the total number of white stones currently placed on the board (Player 2).

What to ignore:
- Do not count black stones.
- Do not count empty intersections.

Output constraint:
Return a single integer (no extra text).
"""

[questions.Q301]
num_samples = 25
text = """
Task:
Count how many intersections are empty in the current board position.

What to count:
Count only intersections that contain no stone.

Output constraint:
Return a single integer (no extra text).
"""

[questions.Q901]
text = """
Task:
Output the full board as a 15×15 matrix of integers using:
0 = empty, 1 = black (Player 1), 2 = white (Player 2).

Answer format:
- Exactly 15 lines.
- Each line must contain exactly 15 integers separated by single spaces.
- Do not output any extra text, symbols, commas, or brackets.
"""

# ============================================================
# REHEARSAL: Step 2 variants (Q2*, Q102*, Q202*, Q302*, Q902*) — small
# ============================================================

[questions.Q2]
num_samples = 25
text = """
Task:
Look only at the intersection at (row {row}, column {col}) using 0-based indexing.
Classify the current state of that single intersection (do not analyze the rest of the board).

Output constraint:
Return exactly one word: black, white, or empty.
"""

[questions.Q102]
num_samples = 25
text = """
Task:
Determine how many stones belong to Player 1 (black) in the current position.

What to ignore:
Ignore everything that is not a black stone (white stones and empty intersections).

Output constraint:
Return exactly one integer.
"""

[questions.Q202]
num_samples = 25
text = """
Task:
Determine how many stones belong to Player 2 (white) in the current position.

What to ignore:
Ignore everything that is not a white stone (black stones and empty intersections).

Output constraint:
Return exactly one integer.
"""

[questions.Q302]
num_samples = 25
text = """
Task:
Determine the total number of empty intersections available right now.
Treat any intersection with a stone as non-empty.

Output constraint:
Return exactly one integer.
"""

[questions.Q902]
num_samples = 25
text = """
Convert the board into a 15×15 integer matrix using:
0 for empty, 1 for black stones, 2 for white stones.

Answer format:
- Exactly 15 rows (top to bottom).
- Each row contains 15 space-separated integers.
- Output only the matrix.
"""

# ============================================================
# REHEARSAL: Step 3 variants (Q3*, Q103*, Q203*, Q303*, Q403*, Q503*, Q903*) — small
# ============================================================

[questions.Q3]
num_samples = 25
text = """
Task:
Focus on the single coordinate (row {row}, col {col}) with 0-based indexing.
Determine which label applies to that intersection right now.

Output constraint:
Return exactly one word: black, white, or empty.
"""

[questions.Q103]
num_samples = 25
text = """
Task:
Compute the total number of black stones on the board as shown.
This is a simple count of already placed black stones (not a prediction).

Output constraint:
Return one integer only (no explanation).
"""

[questions.Q203]
num_samples = 25
text = """
Task:
Compute the total number of white stones on the board as shown.
This is a direct count of placed stones in the current snapshot.

Output constraint:
Return one integer only (no explanation).
"""

[questions.Q303]
num_samples = 25
text = """
Task:
Count every empty intersection on the board in the current position.

What to ignore:
Do not count any intersection containing a black or white stone.

Output constraint:
Return a single integer and nothing else.
"""

[questions.Q403]
num_samples = 25
text = """
You play as {color} (Player {player}).

Task:
Count the number of EXACT three-in-a-row segments belonging to you.
A segment counts only if it consists of 3 adjacent intersections in a straight line, all your stones,
and the segment cannot be extended on either end by another of your stones in the same direction.

Answer format: a single integer.
"""

[questions.Q503]
num_samples = 25
text = """
You play as {color} (Player {player}).

Task:
Count the number of 4-stone segments (four in a row) belonging to you.
A segment is four adjacent intersections in a straight line, all your stones.

Answer format: a single integer.
"""

[questions.Q903]
num_samples = 25
text = """
Task:
Print the board state as numbers with the encoding:
0 = empty, 1 = black, 2 = white.

Answer format: the matrix only, as 15 lines of 15 space-separated integers.
"""

# ============================================================
# NEW: Step 4 variants (late-game tactical + late matrix) — full
# ============================================================

[questions.Q4]
num_samples = 250
text = """
Task:
At row {row} and column {col} (0-based), identify what is present at that intersection.
Do not guess or infer future moves; answer only for the current position shown.

Output constraint:
Return exactly one word: black, white, or empty.
"""

[questions.Q104]
num_samples = 250
text = """
Task:
How many intersections are occupied by black stones (Player 1) in the current snapshot?
Count each black stone exactly once.

Output constraint:
Return a single integer and nothing else.
"""

[questions.Q204]
num_samples = 250
text = """
Task:
How many intersections are occupied by white stones (Player 2) in the current snapshot?
Count each white stone exactly once.

Output constraint:
Return a single integer and nothing else.
"""

[questions.Q304]
num_samples = 250
text = """
Task:
Compute the number of remaining empty intersections in the shown snapshot.
This is purely a count of empty cells (not a move recommendation).

Output constraint:
Return exactly one integer (no explanation).
"""

[questions.Q704]
num_samples = 250
text = """
You play {color} stones (Player {player}). It is your move.

Task:
Is there at least one winning move right now (one move ends the game)?

Answer format: exactly one word: yes or no.
"""

[questions.Q804]
num_samples = 250
text = """
You play {color} stones (Player {player}). It is your move.

Task:
Is the opponent currently threatening a one-move win on their next turn?

Answer format: exactly one word: yes or no.
"""

[questions.Q904]
num_samples = 250
text = """
Represent the position as a 15×15 grid of integers:
0 (empty), 1 (black), 2 (white).

Answer format:
Exactly 15 lines, each with 15 integers separated by single spaces, and nothing else.
"""