[general]
num_samples_per_question = 250

# global context that will be prepended to every question text.
# If you leave this empty or remove it, nothing extra is added.
context = """
You are a vision-language model analyzing Gomoku game positions.

Game rules (for this dataset):
- The board is a 15×15 grid. Player 1 = black stones (value 1). Player 2 = white stones (value 2).
- A legal move is placing exactly one stone on an empty intersection (value 0).
- A player wins immediately if they can place one stone that creates 5 stones in a row (horizontal, vertical, or diagonal).

Important:
- Always follow the per-question instructions and output format exactly.
- Do not add explanations or any extra text beyond what the question requests.
"""

# ============================================================
# Q1001–Q1004: list_valid_moves
# Output: comma-separated list of "row col" (0-based)
# Assumes canonical order: row-major (row asc, col asc)
# ============================================================

[questions.Q1001]
text = """
It is {color}'s turn to move.

Task:
List all valid moves (all empty intersections).
Output the moves in row-major order (increasing row, then increasing column).

Answer format:
A comma-separated list of 0-based coordinates: "row col, row col, ...".
Do not output anything else.
"""

[questions.Q1002]
text = """
Current player: {color}.

Task:
Enumerate every legal placement (every empty intersection).
Sort the moves by row ascending, then column ascending.

Answer format: "row col, row col, ..." (comma + single space between moves).
"""

[questions.Q1003]
text = """
It is {color}'s move.

Task:
Output all legal moves (every empty coordinate).
Use 0-based indexing and order moves in row-major order.

Answer format: comma-separated "row col" pairs only.
"""

[questions.Q1004]
text = """
Player to move: {color}.

Task:
List every empty intersection as a valid move.
Provide moves in row-major order (row then column).

Answer format: "row col, row col, ..." and nothing else.
"""

# ============================================================
# Q1101–Q1104: win_next_turn
# Focus: win_next_turn
# Input: board position immediately before the final move of a completed game
# Context: {outcome_phrase} states the final game outcome ("win for black", "win for white", or "draw")
# Output: exactly one move as two 0-based integers: "row col"
# Note: A one-move win may or may not exist in this position (e.g., the game may end in a draw).
# ============================================================

[questions.Q1101]
text = """
This image shows the Gomoku position immediately before the final move of a completed game.
Final outcome of the completed game: {outcome_phrase}.
You are playing {color}, and it is your turn in this position.

Task:
Play the best final move with the goal of winning immediately if a one-move win exists.
Otherwise, play the best final move available in this position.

Answer format: exactly two 0-based integers: "row col".
"""

[questions.Q1102]
text = """
You are given the board state one move before the game ended.
Final outcome: {outcome_phrase}.
It is {color}'s turn.

Task:
Choose the final move. Prefer an immediate win if possible; otherwise choose the best move available.

Answer format: "row col" (0-based) and nothing else.
"""

[questions.Q1103]
text = """
This is the position directly before the last move of the game.
Final outcome: {outcome_phrase}.
Current player: {color}.

Task:
Output the final move, aiming to win immediately if possible.
If an immediate win is not available, output the best available move.

Answer format: exactly "row col" using 0-based indexing.
"""

[questions.Q1104]
text = """
Board state: one move before the end of the game.
Final outcome: {outcome_phrase}.
You are {color} and it is your turn.

Task:
Select the final move. If you can win immediately with one move, play that winning move.
Otherwise, play the best available move.

Answer format: two 0-based integers: "row col".
"""

# ============================================================
# Q1201–Q1204: best_next_move
# Output: exactly one move as two 0-based integers: "row col"
# ============================================================

[questions.Q1201]
text = """
It is {color}'s turn.

Task:
What is the best move to play now for {color}?

Answer format: "row col" (0-based). Output nothing else.
"""

[questions.Q1202]
text = """
Current turn: {color} to move.

Task:
Choose the single best next move for {color} in this position.

Answer format: exactly two 0-based integers: "row col".
"""

[questions.Q1203]
text = """
{color} to move.

Task:
Determine the best next action for {color}.

Answer format: "row col" using 0-based indexing, and nothing else.
"""

[questions.Q1204]
text = """
It is {color}'s move.

Task:
Select the best move for {color} to play next.

Answer format: exactly "row col" (0-based).
"""

# ============================================================
# Q1301–Q1304: reason_next_move
# Output: 15-line matrix + three labeled lines.
# NOTE: This is deliberately rigid to support parsing.
# ============================================================

[questions.Q1301]
text = """
You are Player {player} playing {color}. It is your turn.

Complete the following tasks in order:

1) Board matrix:
   - Output the current board as a 15×15 integer matrix.
   - Encoding: 0 = empty, 1 = black, 2 = white.
   - Output exactly 15 lines.
   - Each line must contain exactly 15 integers separated by single spaces.

2) One-move win (you):
   - Decide whether you have an immediate winning move this turn.

3) One-move win (opponent):
   - Decide whether your opponent has an immediate winning move on their next turn.

4) Best move:
   - Output the best next move as two 0-based integers: "row col".
   - If you have an immediate winning move, choose a winning move.
   - Otherwise, if the opponent has an immediate winning move, choose a blocking move.
   - Otherwise, choose the best available move.

Output format (must match exactly):

[Reasoning]
<15 lines: board matrix>
CAN_WIN_NEXT_TURN: yes|no
CAN_LOSE_NEXT_TURN: yes|no
[/Reasoning]
[Answer]
row col
[/Answer]
"""

[questions.Q1302]
text = """
You are Player {player} playing {color}. It is your turn.

Complete the following tasks in order:

1) Board matrix:
   - Output the current board as a 15×15 integer matrix.
   - Encoding: 0 = empty, 1 = black, 2 = white.
   - Output exactly 15 lines.
   - Each line must contain exactly 15 integers separated by single spaces.

2) One-move win (you):
   - Decide whether you have an immediate winning move this turn.

3) One-move win (opponent):
   - Decide whether your opponent has an immediate winning move on their next turn.

4) Best move:
   - Output the best next move as two 0-based integers: "row col".
   - If you have an immediate winning move, choose a winning move.
   - Otherwise, if the opponent has an immediate winning move, choose a blocking move.
   - Otherwise, choose the best available move.

Output format (must match exactly):

[Reasoning]
<15 lines: board matrix>
CAN_WIN_NEXT_TURN: yes|no
CAN_LOSE_NEXT_TURN: yes|no
[/Reasoning]
[Answer]
row col
[/Answer]
"""

[questions.Q1303]
text = """
It is {color}'s turn (Player {player}).

Complete the following tasks in order:

1) Board matrix:
   - Print the board as a 15×15 integer matrix.
   - Encoding: 0 = empty, 1 = black, 2 = white.
   - Output exactly 15 lines.
   - Each line must contain exactly 15 integers separated by single spaces.

2) One-move win (you):
   - Decide whether {color} has an immediate winning move on this turn.

3) One-move win (opponent):
   - Decide whether the opponent has an immediate winning move on their next turn.

4) Best move:
   - Output the best next move as two 0-based integers: "row col".
   - Prefer an immediate winning move if one exists.
   - Otherwise, if the opponent has an immediate winning move next, output a blocking move.
   - Otherwise, output the best available move.

Output format (must match exactly):

[Reasoning]
<15 lines: board matrix>
CAN_WIN_NEXT_TURN: yes|no
CAN_LOSE_NEXT_TURN: yes|no
[/Reasoning]
[Answer]
row col
[/Answer]
"""

[questions.Q1304]
text = """
Player {player} ({color}) to move.

Complete the following tasks in order:

1) Board matrix:
   - Output the board as a 15×15 integer matrix.
   - Encoding: 0 = empty, 1 = black, 2 = white.
   - Output exactly 15 lines.
   - Each line must contain exactly 15 integers separated by single spaces.

2) Immediate win check:
   - Determine whether you have a one-move win now.

3) Immediate loss check:
   - Determine whether your opponent has a one-move win on their next turn.

4) Best next move:
   - Output the best move as "row col" (0-based).
   - If you can win immediately, output a winning move.
   - Else if the opponent can win immediately next, output a blocking move.
   - Else output the best available move.

Output format (must match exactly):

[Reasoning]
<15 lines: board matrix>
CAN_WIN_NEXT_TURN: yes|no
CAN_LOSE_NEXT_TURN: yes|no
[/Reasoning]
[Answer]
row col
[/Answer]
"""